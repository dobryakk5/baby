2025-09-07 20:43:56,763 [INFO] Starting fertility tracker bot polling...
2025-09-07 20:43:57,758 [INFO] Database tables created/verified successfully
2025-09-07 20:43:57,816 [INFO] Database connection pool initialized successfully
2025-09-07 20:43:57,816 [INFO] Database initialized successfully
2025-09-07 20:43:57,816 [INFO] Start polling
2025-09-07 20:44:01,095 [INFO] Run polling for bot @stm_babybot id=8416712143 - 'STM_baby'
2025-09-07 20:44:28,067 [INFO] Update id=706675545 is handled. Duration 769 ms by bot id=8416712143
2025-09-07 20:44:35,918 [INFO] Update id=706675546 is handled. Duration 293 ms by bot id=8416712143
2025-09-07 20:44:45,488 [ERROR] Failed to get record for user 7852511755 on 2025-09-07: invalid input for query argument $2: '2025-09-07' ('str' object has no attribute 'toordinal')
2025-09-07 20:44:45,608 [ERROR] Failed to create/update record for user 7852511755: invalid input for query argument $2: '2025-09-07' ('str' object has no attribute 'toordinal')
2025-09-07 20:44:45,749 [INFO] Update id=706675547 is handled. Duration 393 ms by bot id=8416712143
2025-09-07 20:44:56,098 [INFO] Update id=706675548 is handled. Duration 137 ms by bot id=8416712143
2025-09-07 20:44:59,254 [ERROR] Failed to get record for user 7852511755 on 2025-09-07: invalid input for query argument $2: '2025-09-07' ('str' object has no attribute 'toordinal')
2025-09-07 20:44:59,327 [ERROR] Failed to create/update record for user 7852511755: invalid input for query argument $2: '2025-09-07' ('str' object has no attribute 'toordinal')
2025-09-07 20:44:59,769 [INFO] Update id=706675549 is handled. Duration 582 ms by bot id=8416712143
2025-09-07 20:45:05,277 [INFO] Update id=706675550 is handled. Duration 253 ms by bot id=8416712143
2025-09-07 20:45:08,498 [ERROR] Failed to get record for user 7852511755 on 2025-09-07: invalid input for query argument $2: '2025-09-07' ('str' object has no attribute 'toordinal')
2025-09-07 20:45:08,556 [ERROR] Failed to create/update record for user 7852511755: invalid input for query argument $2: '2025-09-07' ('str' object has no attribute 'toordinal')
2025-09-07 20:45:09,470 [INFO] Update id=706675551 is handled. Duration 1044 ms by bot id=8416712143
2025-09-07 20:45:16,976 [INFO] Update id=706675552 is handled. Duration 128 ms by bot id=8416712143
2025-09-07 20:45:33,312 [ERROR] Failed to get record for user 7852511755 on 2025-09-07: invalid input for query argument $2: '2025-09-07' ('str' object has no attribute 'toordinal')
2025-09-07 20:45:33,366 [ERROR] Failed to create/update record for user 7852511755: invalid input for query argument $2: '2025-09-07' ('str' object has no attribute 'toordinal')
2025-09-07 20:45:33,589 [INFO] Update id=706675553 is handled. Duration 385 ms by bot id=8416712143
2025-09-07 20:45:39,355 [INFO] Update id=706675554 is handled. Duration 404 ms by bot id=8416712143
2025-09-07 20:46:57,442 [WARNING] Received SIGINT signal
2025-09-07 20:46:57,444 [INFO] Polling stopped for bot @stm_babybot id=8416712143 - 'STM_baby'
2025-09-07 20:46:57,445 [INFO] Polling stopped
2025-09-07 20:46:57,532 [INFO] Database connection pool closed
2025-09-07 20:46:57,533 [INFO] Database connection closed
2025-09-07 20:49:16,725 [INFO] Запуск бота для отслеживания фертильности...
2025-09-07 20:49:17,510 [INFO] Таблицы базы данных успешно созданы/проверены
2025-09-07 20:49:17,568 [INFO] Пул подключений к базе данных успешно инициализирован
2025-09-07 20:49:17,569 [INFO] База данных успешно инициализирована
2025-09-07 20:49:17,569 [INFO] Start polling
2025-09-07 20:49:17,992 [INFO] Run polling for bot @stm_babybot id=8416712143 - 'STM_baby'
2025-09-07 20:49:34,593 [INFO] Update id=706675555 is not handled. Duration 3 ms by bot id=8416712143
2025-09-07 20:49:41,656 [INFO] Update id=706675556 is handled. Duration 603 ms by bot id=8416712143
2025-09-07 20:49:59,022 [INFO] Update id=706675557 is handled. Duration 121 ms by bot id=8416712143
2025-09-07 20:50:11,981 [INFO] Update id=706675558 is handled. Duration 736 ms by bot id=8416712143
2025-09-07 20:50:14,364 [INFO] Update id=706675559 is handled. Duration 149 ms by bot id=8416712143
2025-09-07 20:50:18,267 [INFO] Update id=706675560 is handled. Duration 826 ms by bot id=8416712143
2025-09-07 20:50:24,560 [INFO] Update id=706675561 is handled. Duration 333 ms by bot id=8416712143
2025-09-07 20:50:27,381 [INFO] Update id=706675562 is handled. Duration 1092 ms by bot id=8416712143
2025-09-07 20:50:31,409 [INFO] Update id=706675563 is handled. Duration 161 ms by bot id=8416712143
2025-09-07 20:50:40,019 [INFO] Update id=706675564 is handled. Duration 544 ms by bot id=8416712143
2025-09-07 20:50:44,481 [INFO] Update id=706675565 is handled. Duration 400 ms by bot id=8416712143
2025-09-07 20:50:54,561 [INFO] Update id=706675566 is handled. Duration 118 ms by bot id=8416712143
2025-09-07 20:50:59,453 [INFO] Update id=706675567 is handled. Duration 557 ms by bot id=8416712143
2025-09-07 20:51:01,506 [INFO] Update id=706675568 is handled. Duration 510 ms by bot id=8416712143
2025-09-07 20:51:16,799 [INFO] Update id=706675569 is handled. Duration 165 ms by bot id=8416712143
2025-09-07 20:51:20,450 [INFO] Update id=706675570 is handled. Duration 587 ms by bot id=8416712143
2025-09-07 20:51:24,326 [INFO] Update id=706675571 is handled. Duration 518 ms by bot id=8416712143
2025-09-07 20:52:37,210 [WARNING] Received SIGINT signal
2025-09-07 20:52:37,214 [INFO] Polling stopped for bot @stm_babybot id=8416712143 - 'STM_baby'
2025-09-07 20:52:37,214 [INFO] Polling stopped
2025-09-07 20:52:37,282 [INFO] Пул подключений к базе данных закрыт
2025-09-07 20:52:37,282 [INFO] Подключение к базе данных закрыто
2025-09-07 20:55:39,765 [INFO] Запуск бота для отслеживания фертильности...
2025-09-07 20:55:40,750 [INFO] Таблицы базы данных успешно созданы/проверены
2025-09-07 20:55:40,801 [INFO] Пул подключений к базе данных успешно инициализирован
2025-09-07 20:55:40,802 [INFO] База данных успешно инициализирована
2025-09-07 20:55:40,802 [INFO] Start polling
2025-09-07 20:55:41,222 [INFO] Run polling for bot @stm_babybot id=8416712143 - 'STM_baby'
2025-09-07 20:55:41,749 [INFO] Update id=706675572 is handled. Duration 400 ms by bot id=8416712143
2025-09-07 21:00:24,193 [INFO] Update id=706675573 is handled. Duration 206 ms by bot id=8416712143
2025-09-07 21:00:33,760 [INFO] Update id=706675574 is handled. Duration 652 ms by bot id=8416712143
2025-09-07 21:00:54,494 [INFO] Update id=706675575 is handled. Duration 275 ms by bot id=8416712143
2025-09-07 21:04:49,247 [INFO] Update id=706675576 is handled. Duration 442 ms by bot id=8416712143
2025-09-07 21:04:53,224 [INFO] Update id=706675577 is handled. Duration 356 ms by bot id=8416712143
2025-09-07 21:04:55,330 [INFO] Update id=706675578 is handled. Duration 827 ms by bot id=8416712143
2025-09-07 21:10:54,827 [INFO] Update id=706675579 is handled. Duration 896 ms by bot id=8416712143
2025-09-07 21:13:20,386 [INFO] Update id=706675580 is handled. Duration 517 ms by bot id=8416712143
2025-09-07 21:15:55,538 [INFO] Update id=706675581 is handled. Duration 165 ms by bot id=8416712143
2025-09-07 21:16:07,054 [INFO] Update id=706675582 is handled. Duration 2371 ms by bot id=8416712143
2025-09-07 21:16:19,952 [WARNING] Received SIGINT signal
2025-09-07 21:16:19,958 [INFO] Polling stopped for bot @stm_babybot id=8416712143 - 'STM_baby'
2025-09-07 21:16:19,958 [INFO] Polling stopped
2025-09-07 21:16:20,081 [INFO] Пул подключений к базе данных закрыт
2025-09-07 21:16:20,082 [INFO] Подключение к базе данных закрыто
2025-09-07 21:16:25,434 [INFO] Запуск бота для отслеживания фертильности...
2025-09-07 21:16:26,935 [INFO] Таблицы базы данных успешно созданы/проверены
2025-09-07 21:16:26,991 [INFO] Пул подключений к базе данных успешно инициализирован
2025-09-07 21:16:26,991 [INFO] База данных успешно инициализирована
2025-09-07 21:16:26,991 [INFO] Start polling
2025-09-07 21:16:27,458 [INFO] Run polling for bot @stm_babybot id=8416712143 - 'STM_baby'
2025-09-07 21:16:37,464 [INFO] Update id=706675583 is handled. Duration 399 ms by bot id=8416712143
2025-09-07 21:16:42,891 [DEBUG] Processing mucus selection for user 7852511755 on date 2025-09-07
2025-09-07 21:16:42,891 [DEBUG] Getting record for user 7852511755 with date 2025-09-07 (type: <class 'str'>)
2025-09-07 21:16:42,896 [DEBUG] Converted string date to date object: 2025-09-07
2025-09-07 21:16:42,896 [DEBUG] Executing database query with user_id=7852511755, record_date=2025-09-07
2025-09-07 21:16:43,155 [DEBUG] Retrieved record: {'id': 2, 'user_id': 7852511755, 'record_date': datetime.date(2025, 9, 7), 'temperature': Decimal('36.60'), 'mucus_type': 'Сухо', 'menstruation_type': 'Средние', 'cervical_position': None, 'note': None, 'created_at': datetime.datetime(2025, 9, 7, 17, 50, 11, 616567), 'updated_at': datetime.datetime(2025, 9, 7, 18, 16, 5, 838420)}
2025-09-07 21:16:43,205 [DEBUG] Updating existing record for user 7852511755
2025-09-07 21:16:43,205 [DEBUG] Creating record for user 7852511755 with date 2025-09-07 (type: <class 'str'>)
2025-09-07 21:16:43,205 [DEBUG] Converted string date to date object: 2025-09-07
2025-09-07 21:16:43,206 [DEBUG] Executing database query with user_id=7852511755, record_date=2025-09-07
2025-09-07 21:16:43,347 [DEBUG] Record created/updated successfully
2025-09-07 21:16:43,708 [INFO] Update id=706675584 is handled. Duration 819 ms by bot id=8416712143
2025-09-07 21:22:48,218 [INFO] Update id=706675585 is handled. Duration 1204 ms by bot id=8416712143
2025-09-07 21:22:55,995 [INFO] Update id=706675586 is handled. Duration 152 ms by bot id=8416712143
2025-09-07 21:23:02,914 [DEBUG] Processing temperature input for user 269435099 on date 2025-09-07
2025-09-07 21:23:02,914 [DEBUG] Getting record for user 269435099 with date 2025-09-07 (type: <class 'str'>)
2025-09-07 21:23:02,916 [DEBUG] Converted string date to date object: 2025-09-07
2025-09-07 21:23:02,916 [DEBUG] Executing database query with user_id=269435099, record_date=2025-09-07
2025-09-07 21:23:03,166 [DEBUG] Retrieved record: None
2025-09-07 21:23:03,222 [DEBUG] Creating new record for user 269435099
2025-09-07 21:23:03,222 [DEBUG] Creating record for user 269435099 with date 2025-09-07 (type: <class 'str'>)
2025-09-07 21:23:03,222 [DEBUG] Converted string date to date object: 2025-09-07
2025-09-07 21:23:03,222 [DEBUG] Executing database query with user_id=269435099, record_date=2025-09-07
2025-09-07 21:23:03,340 [DEBUG] Record created/updated successfully
2025-09-07 21:23:03,691 [INFO] Update id=706675587 is handled. Duration 779 ms by bot id=8416712143
2025-09-07 21:23:05,479 [INFO] Update id=706675588 is handled. Duration 142 ms by bot id=8416712143
2025-09-07 21:23:08,532 [DEBUG] Processing mucus selection for user 269435099 on date 2025-09-07
2025-09-07 21:23:08,532 [DEBUG] Getting record for user 269435099 with date 2025-09-07 (type: <class 'str'>)
2025-09-07 21:23:08,532 [DEBUG] Converted string date to date object: 2025-09-07
2025-09-07 21:23:08,532 [DEBUG] Executing database query with user_id=269435099, record_date=2025-09-07
2025-09-07 21:23:08,589 [DEBUG] Retrieved record: {'id': 15, 'user_id': 269435099, 'record_date': datetime.date(2025, 9, 7), 'temperature': Decimal('37.00'), 'mucus_type': None, 'menstruation_type': None, 'cervical_position': None, 'note': None, 'created_at': datetime.datetime(2025, 9, 7, 18, 23, 3, 332423), 'updated_at': datetime.datetime(2025, 9, 7, 18, 23, 3, 332423)}
2025-09-07 21:23:08,644 [DEBUG] Updating existing record for user 269435099
2025-09-07 21:23:08,644 [DEBUG] Creating record for user 269435099 with date 2025-09-07 (type: <class 'str'>)
2025-09-07 21:23:08,644 [DEBUG] Converted string date to date object: 2025-09-07
2025-09-07 21:23:08,645 [DEBUG] Executing database query with user_id=269435099, record_date=2025-09-07
2025-09-07 21:23:08,699 [DEBUG] Record created/updated successfully
2025-09-07 21:23:09,141 [INFO] Update id=706675589 is handled. Duration 610 ms by bot id=8416712143
2025-09-07 21:23:13,819 [INFO] Update id=706675590 is handled. Duration 689 ms by bot id=8416712143
2025-09-07 21:23:33,090 [DEBUG] Processing menstruation selection for user 269435099 on date 2025-09-07
2025-09-07 21:23:33,092 [DEBUG] Getting record for user 269435099 with date 2025-09-07 (type: <class 'str'>)
2025-09-07 21:23:33,092 [DEBUG] Converted string date to date object: 2025-09-07
2025-09-07 21:23:33,092 [DEBUG] Executing database query with user_id=269435099, record_date=2025-09-07
2025-09-07 21:23:33,146 [DEBUG] Retrieved record: {'id': 15, 'user_id': 269435099, 'record_date': datetime.date(2025, 9, 7), 'temperature': Decimal('37.00'), 'mucus_type': 'Липкое', 'menstruation_type': None, 'cervical_position': None, 'note': None, 'created_at': datetime.datetime(2025, 9, 7, 18, 23, 3, 332423), 'updated_at': datetime.datetime(2025, 9, 7, 18, 23, 8, 754373)}
2025-09-07 21:23:33,213 [DEBUG] Updating existing record for user 269435099
2025-09-07 21:23:33,213 [DEBUG] Creating record for user 269435099 with date 2025-09-07 (type: <class 'str'>)
2025-09-07 21:23:33,214 [DEBUG] Converted string date to date object: 2025-09-07
2025-09-07 21:23:33,214 [DEBUG] Executing database query with user_id=269435099, record_date=2025-09-07
2025-09-07 21:23:33,277 [DEBUG] Record created/updated successfully
2025-09-07 21:23:33,688 [INFO] Update id=706675591 is handled. Duration 600 ms by bot id=8416712143
2025-09-07 21:23:36,323 [DEBUG] Processing view data request for user 269435099
2025-09-07 21:23:36,909 [INFO] Update id=706675592 is handled. Duration 586 ms by bot id=8416712143
2025-09-07 21:29:13,001 [INFO] Update id=706675593 is handled. Duration 381 ms by bot id=8416712143
2025-09-07 21:34:43,070 [ERROR] Failed to fetch updates - TelegramNetworkError: HTTP Client says - Request timeout error
2025-09-07 21:34:43,072 [WARNING] Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8416712143)
2025-09-07 21:34:54,281 [INFO] Connection established (tryings = 1, bot id = 8416712143)
2025-09-07 21:40:23,427 [ERROR] Failed to fetch updates - TelegramNetworkError: HTTP Client says - Request timeout error
2025-09-07 21:40:23,429 [WARNING] Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8416712143)
2025-09-07 21:40:34,749 [INFO] Connection established (tryings = 1, bot id = 8416712143)
2025-09-07 21:46:14,520 [ERROR] Failed to fetch updates - TelegramNetworkError: HTTP Client says - Request timeout error
2025-09-07 21:46:14,522 [WARNING] Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8416712143)
2025-09-07 21:46:26,595 [INFO] Connection established (tryings = 1, bot id = 8416712143)
2025-09-07 21:46:40,988 [WARNING] Received SIGINT signal
2025-09-07 21:46:40,999 [INFO] Polling stopped for bot @stm_babybot id=8416712143 - 'STM_baby'
2025-09-07 21:46:41,000 [INFO] Polling stopped
2025-09-07 21:46:41,003 [INFO] Пул подключений к базе данных закрыт
2025-09-07 21:46:41,004 [INFO] Подключение к базе данных закрыто
